{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useMergedState } from 'rc-util';\nimport useEvent from \"rc-util/es/hooks/useEvent\";\nimport raf from \"rc-util/es/raf\";\nimport * as React from 'react';\n\n/**\n * 1. Click input to show picker\n * 2. Calculate next open index\n *\n * If click `confirm`:\n * 3. Hide current picker\n * 4. Open next index picker if exist\n *\n * If not `changeOnBlur` and click outside:\n * 3. Hide picker\n *\n * If `changeOnBlur` and click outside:\n * 3. Hide current picker\n * 4. Open next index picker if exist\n */\n\n/**\n * Auto control of open state\n */\nexport default function useRangeOpen(defaultOpen, open, activePickerIndex, changeOnBlur, startInputRef, endInputRef, startSelectedValue, endSelectedValue, disabled, onOpenChange) {\n  var _React$useState = React.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    firstTimeOpen = _React$useState2[0],\n    setFirstTimeOpen = _React$useState2[1];\n  var _useMergedState = useMergedState(defaultOpen || false, {\n      value: open,\n      onChange: function onChange(nextOpen) {\n        onOpenChange === null || onOpenChange === void 0 ? void 0 : onOpenChange(nextOpen);\n      }\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 2),\n    mergedOpen = _useMergedState2[0],\n    setMergedOpen = _useMergedState2[1];\n  var _useMergedState3 = useMergedState(0, {\n      value: activePickerIndex\n    }),\n    _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n    mergedActivePickerIndex = _useMergedState4[0],\n    setMergedActivePickerIndex = _useMergedState4[1];\n  var _React$useState3 = React.useState(null),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    nextActiveIndex = _React$useState4[0],\n    setNextActiveIndex = _React$useState4[1];\n  React.useEffect(function () {\n    if (mergedOpen) {\n      setFirstTimeOpen(true);\n    }\n  }, [mergedOpen]);\n  var triggerOpen = useEvent(function (nextOpen, index, source) {\n    if (index === false) {\n      // Only when `nextOpen` is false and no need open to next index\n      setMergedOpen(nextOpen);\n    } else if (nextOpen) {\n      setMergedActivePickerIndex(index);\n      setMergedOpen(nextOpen);\n      var nextIndex = index === 0 ? 1 : 0;\n\n      // Record next open index\n      if (!mergedOpen ||\n      // Also set next index if next is empty\n      ![startSelectedValue, endSelectedValue][nextIndex]) {\n        setNextActiveIndex(nextIndex);\n      } else {\n        setFirstTimeOpen(false);\n        if (nextActiveIndex !== null) {\n          setNextActiveIndex(null);\n        }\n      }\n    } else if (source === 'confirm' || source === 'blur' && changeOnBlur) {\n      if (nextActiveIndex !== null) {\n        setFirstTimeOpen(false);\n        setMergedActivePickerIndex(nextActiveIndex);\n      }\n      setNextActiveIndex(null);\n\n      // Focus back\n      if (nextActiveIndex !== null && !disabled[nextActiveIndex]) {\n        raf(function () {\n          var _ref$current;\n          var ref = [startInputRef, endInputRef][nextActiveIndex];\n          (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.focus();\n        });\n      } else {\n        setMergedOpen(false);\n      }\n    } else {\n      setMergedOpen(false);\n    }\n  });\n  return [mergedOpen, mergedActivePickerIndex, firstTimeOpen, triggerOpen];\n}","map":{"version":3,"names":["_slicedToArray","useMergedState","useEvent","raf","React","useRangeOpen","defaultOpen","open","activePickerIndex","changeOnBlur","startInputRef","endInputRef","startSelectedValue","endSelectedValue","disabled","onOpenChange","_React$useState","useState","_React$useState2","firstTimeOpen","setFirstTimeOpen","_useMergedState","value","onChange","nextOpen","_useMergedState2","mergedOpen","setMergedOpen","_useMergedState3","_useMergedState4","mergedActivePickerIndex","setMergedActivePickerIndex","_React$useState3","_React$useState4","nextActiveIndex","setNextActiveIndex","useEffect","triggerOpen","index","source","nextIndex","_ref$current","ref","current","focus"],"sources":["C:/React/team_one/.yarn/__virtual__/rc-picker-virtual-2325dc1227/0/cache/rc-picker-npm-3.12.0-ed4b8c979f-59659f928c.zip/node_modules/rc-picker/es/hooks/useRangeOpen.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useMergedState } from 'rc-util';\nimport useEvent from \"rc-util/es/hooks/useEvent\";\nimport raf from \"rc-util/es/raf\";\nimport * as React from 'react';\n\n/**\n * 1. Click input to show picker\n * 2. Calculate next open index\n *\n * If click `confirm`:\n * 3. Hide current picker\n * 4. Open next index picker if exist\n *\n * If not `changeOnBlur` and click outside:\n * 3. Hide picker\n *\n * If `changeOnBlur` and click outside:\n * 3. Hide current picker\n * 4. Open next index picker if exist\n */\n\n/**\n * Auto control of open state\n */\nexport default function useRangeOpen(defaultOpen, open, activePickerIndex, changeOnBlur, startInputRef, endInputRef, startSelectedValue, endSelectedValue, disabled, onOpenChange) {\n  var _React$useState = React.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    firstTimeOpen = _React$useState2[0],\n    setFirstTimeOpen = _React$useState2[1];\n  var _useMergedState = useMergedState(defaultOpen || false, {\n      value: open,\n      onChange: function onChange(nextOpen) {\n        onOpenChange === null || onOpenChange === void 0 ? void 0 : onOpenChange(nextOpen);\n      }\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 2),\n    mergedOpen = _useMergedState2[0],\n    setMergedOpen = _useMergedState2[1];\n  var _useMergedState3 = useMergedState(0, {\n      value: activePickerIndex\n    }),\n    _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n    mergedActivePickerIndex = _useMergedState4[0],\n    setMergedActivePickerIndex = _useMergedState4[1];\n  var _React$useState3 = React.useState(null),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    nextActiveIndex = _React$useState4[0],\n    setNextActiveIndex = _React$useState4[1];\n  React.useEffect(function () {\n    if (mergedOpen) {\n      setFirstTimeOpen(true);\n    }\n  }, [mergedOpen]);\n  var triggerOpen = useEvent(function (nextOpen, index, source) {\n    if (index === false) {\n      // Only when `nextOpen` is false and no need open to next index\n      setMergedOpen(nextOpen);\n    } else if (nextOpen) {\n      setMergedActivePickerIndex(index);\n      setMergedOpen(nextOpen);\n      var nextIndex = index === 0 ? 1 : 0;\n\n      // Record next open index\n      if (!mergedOpen ||\n      // Also set next index if next is empty\n      ![startSelectedValue, endSelectedValue][nextIndex]) {\n        setNextActiveIndex(nextIndex);\n      } else {\n        setFirstTimeOpen(false);\n        if (nextActiveIndex !== null) {\n          setNextActiveIndex(null);\n        }\n      }\n    } else if (source === 'confirm' || source === 'blur' && changeOnBlur) {\n      if (nextActiveIndex !== null) {\n        setFirstTimeOpen(false);\n        setMergedActivePickerIndex(nextActiveIndex);\n      }\n      setNextActiveIndex(null);\n\n      // Focus back\n      if (nextActiveIndex !== null && !disabled[nextActiveIndex]) {\n        raf(function () {\n          var _ref$current;\n          var ref = [startInputRef, endInputRef][nextActiveIndex];\n          (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.focus();\n        });\n      } else {\n        setMergedOpen(false);\n      }\n    } else {\n      setMergedOpen(false);\n    }\n  });\n  return [mergedOpen, mergedActivePickerIndex, firstTimeOpen, triggerOpen];\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}