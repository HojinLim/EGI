{"ast":null,"code":"import { supabase } from './supabase';\nexport const fetchReplyComments = async pid => {\n  try {\n    const {\n      data,\n      error\n    } = await supabase.from('replycomments').select('*').order('created_at', {\n      ascending: true\n    }).eq('pid', pid);\n    if (error) {\n      console.log('Error fetching comments:', error);\n      alert('에러가 발생했습니다.' + error);\n      return [];\n    }\n    return data;\n  } catch (e) {\n    console.log(e);\n    alert('알 수 없는 오류가 발생했습니다.');\n    return [];\n  }\n};\nexport const addReplyComment = async comment => {\n  try {\n    const {\n      error\n    } = await supabase.from('replycomments').insert([comment]);\n    if (error) {\n      console.log('Error inserting comment:', error);\n      alert('댓글 작성 중 에러가 발생했습니다.');\n    } else {\n      alert('댓글이 성공적으로 작성되었습니다.');\n    }\n  } catch (e) {\n    console.log('Error inserting comment:', e);\n    alert('알 수 없는 오류가 발생했습니다.');\n  }\n};\nexport const updateReplyComment = async comment => {\n  try {\n    const {\n      error\n    } = await supabase.from('replycomments').update({\n      body: comment.body\n    }).eq('rid', comment.rid);\n    if (error) {\n      console.log('Error update reply' + error);\n      alert('댓글 수정 중 오류가 발생했습니다.');\n    }\n  } catch (error) {\n    console.log('Error update reply' + error);\n    alert('댓글 수정 중 오류가 발생했습니다.');\n  }\n};\n\n// isDeleted로 변경할까?\nexport const deleteReplyComment = async rid => {\n  console.log(rid);\n  try {\n    const {\n      error\n    } = await supabase.from('replycomments').delete().eq('rid', rid);\n    if (error) {\n      console.log('Error deleting reply' + error);\n      alert('댓글 삭제 중 오류가 발생했습니다.');\n    } else {\n      alert('삭제가 완료되었습니다.');\n    }\n  } catch (e) {\n    console.log('Error deleting reply');\n    alert('댓글 삭제 중 오류가 발생했습니다.');\n  }\n};","map":{"version":3,"names":["supabase","fetchReplyComments","pid","data","error","from","select","order","ascending","eq","console","log","alert","e","addReplyComment","comment","insert","updateReplyComment","update","body","rid","deleteReplyComment","delete"],"sources":["C:/React/team_one/src/services/supabase/replyComments.ts"],"sourcesContent":["import { ReplyCommentType } from '../../types/supabase';\r\nimport { supabase } from './supabase';\r\n\r\nexport const fetchReplyComments = async (pid: string) => {\r\n  try {\r\n    const { data, error } = await supabase\r\n      .from('replycomments')\r\n      .select('*')\r\n      .order('created_at', { ascending: true })\r\n      .eq('pid', pid);\r\n    if (error) {\r\n      console.log('Error fetching comments:', error);\r\n      alert('에러가 발생했습니다.' + error);\r\n      return [];\r\n    }\r\n    return data;\r\n  } catch (e) {\r\n    console.log(e);\r\n    alert('알 수 없는 오류가 발생했습니다.');\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const addReplyComment = async (comment: Omit<ReplyCommentType, 'rid'>) => {\r\n  try {\r\n    const { error } = await supabase.from('replycomments').insert([comment]);\r\n    if (error) {\r\n      console.log('Error inserting comment:', error);\r\n      alert('댓글 작성 중 에러가 발생했습니다.');\r\n    } else {\r\n      alert('댓글이 성공적으로 작성되었습니다.');\r\n    }\r\n  } catch (e) {\r\n    console.log('Error inserting comment:', e);\r\n    alert('알 수 없는 오류가 발생했습니다.');\r\n  }\r\n};\r\n\r\nexport const updateReplyComment = async (comment: Pick<ReplyCommentType, 'rid' | 'body'>) => {\r\n  try {\r\n    const { error } = await supabase.from('replycomments').update({ body: comment.body }).eq('rid', comment.rid);\r\n    if (error) {\r\n      console.log('Error update reply' + error);\r\n      alert('댓글 수정 중 오류가 발생했습니다.');\r\n    }\r\n  } catch (error) {\r\n    console.log('Error update reply' + error);\r\n    alert('댓글 수정 중 오류가 발생했습니다.');\r\n  }\r\n};\r\n\r\n// isDeleted로 변경할까?\r\nexport const deleteReplyComment = async (rid: number) => {\r\n  console.log(rid);\r\n  try {\r\n    const { error } = await supabase.from('replycomments').delete().eq('rid', rid);\r\n    if (error) {\r\n      console.log('Error deleting reply' + error);\r\n      alert('댓글 삭제 중 오류가 발생했습니다.');\r\n    } else {\r\n      alert('삭제가 완료되었습니다.');\r\n    }\r\n  } catch (e) {\r\n    console.log('Error deleting reply');\r\n    alert('댓글 삭제 중 오류가 발생했습니다.');\r\n  }\r\n};\r\n"],"mappings":"AACA,SAASA,QAAQ,QAAQ,YAAY;AAErC,OAAO,MAAMC,kBAAkB,GAAG,MAAOC,GAAW,IAAK;EACvD,IAAI;IACF,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAG,MAAMJ,QAAQ,CACnCK,IAAI,CAAC,eAAe,CAAC,CACrBC,MAAM,CAAC,GAAG,CAAC,CACXC,KAAK,CAAC,YAAY,EAAE;MAAEC,SAAS,EAAE;IAAK,CAAC,CAAC,CACxCC,EAAE,CAAC,KAAK,EAAEP,GAAG,CAAC;IACjB,IAAIE,KAAK,EAAE;MACTM,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEP,KAAK,CAAC;MAC9CQ,KAAK,CAAC,aAAa,GAAGR,KAAK,CAAC;MAC5B,OAAO,EAAE;IACX;IACA,OAAOD,IAAI;EACb,CAAC,CAAC,OAAOU,CAAC,EAAE;IACVH,OAAO,CAACC,GAAG,CAACE,CAAC,CAAC;IACdD,KAAK,CAAC,oBAAoB,CAAC;IAC3B,OAAO,EAAE;EACX;AACF,CAAC;AAED,OAAO,MAAME,eAAe,GAAG,MAAOC,OAAsC,IAAK;EAC/E,IAAI;IACF,MAAM;MAAEX;IAAM,CAAC,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,eAAe,CAAC,CAACW,MAAM,CAAC,CAACD,OAAO,CAAC,CAAC;IACxE,IAAIX,KAAK,EAAE;MACTM,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEP,KAAK,CAAC;MAC9CQ,KAAK,CAAC,qBAAqB,CAAC;IAC9B,CAAC,MAAM;MACLA,KAAK,CAAC,oBAAoB,CAAC;IAC7B;EACF,CAAC,CAAC,OAAOC,CAAC,EAAE;IACVH,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEE,CAAC,CAAC;IAC1CD,KAAK,CAAC,oBAAoB,CAAC;EAC7B;AACF,CAAC;AAED,OAAO,MAAMK,kBAAkB,GAAG,MAAOF,OAA+C,IAAK;EAC3F,IAAI;IACF,MAAM;MAAEX;IAAM,CAAC,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,eAAe,CAAC,CAACa,MAAM,CAAC;MAAEC,IAAI,EAAEJ,OAAO,CAACI;IAAK,CAAC,CAAC,CAACV,EAAE,CAAC,KAAK,EAAEM,OAAO,CAACK,GAAG,CAAC;IAC5G,IAAIhB,KAAK,EAAE;MACTM,OAAO,CAACC,GAAG,CAAC,oBAAoB,GAAGP,KAAK,CAAC;MACzCQ,KAAK,CAAC,qBAAqB,CAAC;IAC9B;EACF,CAAC,CAAC,OAAOR,KAAK,EAAE;IACdM,OAAO,CAACC,GAAG,CAAC,oBAAoB,GAAGP,KAAK,CAAC;IACzCQ,KAAK,CAAC,qBAAqB,CAAC;EAC9B;AACF,CAAC;;AAED;AACA,OAAO,MAAMS,kBAAkB,GAAG,MAAOD,GAAW,IAAK;EACvDV,OAAO,CAACC,GAAG,CAACS,GAAG,CAAC;EAChB,IAAI;IACF,MAAM;MAAEhB;IAAM,CAAC,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,eAAe,CAAC,CAACiB,MAAM,CAAC,CAAC,CAACb,EAAE,CAAC,KAAK,EAAEW,GAAG,CAAC;IAC9E,IAAIhB,KAAK,EAAE;MACTM,OAAO,CAACC,GAAG,CAAC,sBAAsB,GAAGP,KAAK,CAAC;MAC3CQ,KAAK,CAAC,qBAAqB,CAAC;IAC9B,CAAC,MAAM;MACLA,KAAK,CAAC,cAAc,CAAC;IACvB;EACF,CAAC,CAAC,OAAOC,CAAC,EAAE;IACVH,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;IACnCC,KAAK,CAAC,qBAAqB,CAAC;EAC9B;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}